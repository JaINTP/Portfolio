# Copy to .env and customise for your environment

# Database connectivity (least-privilege user recommended)
DATABASE_URL="postgresql+asyncpg://portfolio:strong-password@db:5432/portfolio"
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=5
DATABASE_POOL_TIMEOUT=10

# Frontend origins (HTTPS required outside development)
FRONTEND_ORIGIN="https://portfolio.example"
DEVELOPMENT_ORIGINS="http://127.0.0.1:3000,http://localhost:3000"

# Administrative auth configuration
# Generate hash with:
# python - <<'PY'
# from passlib.context import CryptContext
# pwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto")
# print(pwd_context.hash("your-password-here"))
# PY
ADMIN_EMAIL="admin@example.com"
ADMIN_PASSWORD_HASH="your-hash-here"

# JWT configuration
JWT_SECRET_KEY="change-me-to-a-long-random-string"
JWT_ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Session cookies
SESSION_SECRET_KEY="another-long-random-string"
SESSION_COOKIE_NAME="portfolio_session"
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE=strict
SESSION_COOKIE_MAX_AGE_SECONDS=3600

# Trusted network settings
TRUSTED_HOSTS="127.0.0.1,localhost"
TRUSTED_PROXIES="127.0.0.1,172.16.0.0/12"
ENABLE_HSTS=true
FORWARDED_ALLOW_IPS="127.0.0.1,172.16.0.0/12"

# Rate limiting
API_RATE_LIMIT="120/minute"
API_RATE_LIMIT_BURST=240
LOGIN_RATE_LIMIT="10/minute"

# Upload directory (Vercel requires /tmp, local dev can use any path)
UPLOADS_DIR="/tmp/portfolio_uploads"

# Storage Configuration
# Use "local" for disk storage or "s3" for Cloudflare R2 / AWS S3
STORAGE_TYPE="local"

# S3/R2 Credentials (Required if STORAGE_TYPE="s3")
S3_BUCKET="jaintportfolio"
S3_REGION="auto"
S3_ACCESS_KEY_ID="your-r2-access-key-id"
S3_SECRET_ACCESS_KEY="your-r2-secret-access-key"
# Endpoint format for R2: https://<account_id>.r2.cloudflarestorage.com
S3_ENDPOINT_URL="https://your-account-id.r2.cloudflarestorage.com"
# Optional: Public domain for your bucket if configured in Cloudflare
S3_CUSTOM_DOMAIN="https://pub-your-id.r2.dev"
